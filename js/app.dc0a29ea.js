(function(){"use strict";var e={4329:function(e,n,r){var t=r(9242),o=r(3396);const u={class:"app"},c={class:"flex"};function a(e,n,r,t,a,l){const s=(0,o.up)("Form"),i=(0,o.up)("Block");return(0,o.wg)(),(0,o.iD)("div",u,[(0,o._)("div",c,[(0,o.Wm)(s,{msg:"Сurrency conversion"}),(0,o.Wm)(i)])])}var l=r(7139);const s=e=>((0,o.dD)("data-v-4eda73ac"),e=e(),(0,o.Cn)(),e),i={class:"hello"},d={class:"title"},p=s((()=>(0,o._)("h4",null,"Конвертування валют",-1))),f=s((()=>(0,o._)("label",{for:"fromCurrency"},"Вхідна валюта: ",-1))),h=s((()=>(0,o._)("option",{value:"USD"},"USD",-1))),m=[h],y=s((()=>(0,o._)("br",null,null,-1))),C=s((()=>(0,o._)("br",null,null,-1))),_=s((()=>(0,o._)("label",{for:"toCurrency"},"Вихідна валюта: ",-1))),w=["value"],v=s((()=>(0,o._)("br",null,null,-1))),b=s((()=>(0,o._)("br",null,null,-1))),g=s((()=>(0,o._)("label",{for:"amount"},"Кількість бажаної валюти: ",-1))),U=s((()=>(0,o._)("label",{for:"text"}," $",-1))),D=s((()=>(0,o._)("br",null,null,-1))),S=s((()=>(0,o._)("br",null,null,-1))),k=s((()=>(0,o._)("br",null,null,-1)));function P(e,n,r,u,c,a){return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("h1",d,(0,l.zw)(r.msg),1),(0,o._)("form",null,[p,f,(0,o.wy)((0,o._)("select",{id:"fromCurrency","onUpdate:modelValue":n[0]||(n[0]=e=>c.fromCurrency=e)},m,512),[[t.bM,c.fromCurrency]]),y,C,_,(0,o.wy)((0,o._)("select",{id:"toCurrency","onUpdate:modelValue":n[1]||(n[1]=e=>c.toCurrency=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.currencies,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:e},(0,l.zw)(e),9,w)))),128))],512),[[t.bM,c.toCurrency]]),v,b,g,(0,o.wy)((0,o._)("input",{type:"number",id:"amount","onUpdate:modelValue":n[2]||(n[2]=e=>c.amount=e),max:"10000",min:"0"},null,512),[[t.nr,c.amount]]),U,D,S,(0,o._)("div",null,[(0,o._)("p",null," Результат: "+(0,l.zw)(c.amount)+" "+(0,l.zw)(c.fromCurrency)+" = "+(0,l.zw)(a.result)+" "+(0,l.zw)(c.toCurrency),1)]),k])])}let O=0;var j={name:"HelloWorld",props:{msg:String},data(){return{amount:0,fromCurrency:"USD",toCurrency:"BTC",currencies:["USD","BTC","EUR","UAH","GBP","BTC","EUR"],rates:null}},computed:{result(){return this.rates?(O=this.amount/this.rates[this.fromCurrency]*this.rates[this.toCurrency],O):O}},mounted(){this.fetchRates()},methods:{fetchRates(){const e="https://openexchangerates.org/api/latest.json?app_id=7ecd5129702c4f00896f0738196fdfff";fetch(e).then((e=>e.json())).then((e=>{this.rates=e.rates})),console.log(this.rates)}}},x=r(89);const A=(0,x.Z)(j,[["render",P],["__scopeId","data-v-4eda73ac"]]);var N=A;const z=e=>((0,o.dD)("data-v-61e08011"),e=e(),(0,o.Cn)(),e),B={class:"block"},H=z((()=>(0,o._)("label",{for:"currency",class:"label"},"Виберіть валюту: ",-1))),T=z((()=>(0,o._)("option",{value:"USD"},"USD",-1))),E=[T],I={class:"currency-rates"},R=z((()=>(0,o._)("br",null,null,-1))),V=z((()=>(0,o._)("br",null,null,-1))),W=["disabled"];function $(e,n,r,u,c,a){const s=(0,o.up)("PopupWindow");return(0,o.wg)(),(0,o.iD)("div",B,[(0,o._)("div",null,[H,(0,o.wy)((0,o._)("select",{id:"currency","onUpdate:modelValue":n[0]||(n[0]=e=>c.selectedCurrency=e),onChange:n[1]||(n[1]=e=>a.updateCurrencies(c.selectedCurrency))},E,544),[[t.bM,c.selectedCurrency]])]),(0,o._)("div",I,[(0,o._)("table",null,[(0,o._)("thead",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.currencies,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.code},[(0,o._)("td",null,(0,l.zw)(e.name),1),(0,o._)("td",null,(0,l.zw)(e.rate),1)])))),128))])])]),(0,o._)("button",{onClick:n[2]||(n[2]=(...e)=>a.showAddCurrencyPopup&&a.showAddCurrencyPopup(...e))},"Додати валюту"),R,V,(0,o._)("button",{onClick:n[3]||(n[3]=(...e)=>a.updateCurrencies&&a.updateCurrencies(...e)),disabled:c.isUpdating},"Оновити",8,W),c.showPopup?((0,o.wg)(),(0,o.j4)(s,{key:0,onClose:a.hideAddCurrencyPopup,onAdd:a.addNewCurrency},null,8,["onClose","onAdd"])):(0,o.kq)("",!0)])}r(7658);var M=r(4161);const Z=e=>((0,o.dD)("data-v-4f94fb84"),e=e(),(0,o.Cn)(),e),q={class:"popup"},F={class:"popup-container"},J={class:"popup-header"},K=Z((()=>(0,o._)("h2",null,"Додавання валюти",-1))),Y={class:"popup-body"},G=Z((()=>(0,o._)("label",{for:"currency-name"},"Назва валюти: ",-1))),X=Z((()=>(0,o._)("label",{for:"currency-code"},"Код валюти: ",-1))),L=Z((()=>(0,o._)("button",{type:"submit",class:"but"},"Додати",-1)));function Q(e,n,r,u,c,a){return(0,o.wg)(),(0,o.iD)("div",q,[(0,o._)("div",{class:"popup-overlay",onClick:n[0]||(n[0]=n=>e.$emit("close"))}),(0,o._)("div",F,[(0,o._)("div",J,[K,(0,o._)("button",{class:"but",onClick:n[1]||(n[1]=n=>e.$emit("close"))},"X")]),(0,o._)("form",{onSubmit:n[4]||(n[4]=(0,t.iM)(((...e)=>a.onSubmit&&a.onSubmit(...e)),["prevent"]))},[(0,o._)("div",Y,[G,(0,o.wy)((0,o._)("input",{id:"currency-name",type:"text","onUpdate:modelValue":n[2]||(n[2]=e=>c.newCurrencyName=e),required:""},null,512),[[t.nr,c.newCurrencyName]]),X,(0,o.wy)((0,o._)("input",{id:"currency-code",type:"text","onUpdate:modelValue":n[3]||(n[3]=e=>c.newCurrencyCode=e),required:""},null,512),[[t.nr,c.newCurrencyCode]])]),L],32)])])}var ee={data(){return{newCurrencyName:"",newCurrencyCode:""}},methods:{onSubmit(){const e={name:this.newCurrencyName,code:this.newCurrencyCode};this.$emit("add",e),this.newCurrencyName="",this.newCurrencyCode=""}}};const ne=(0,x.Z)(ee,[["render",Q],["__scopeId","data-v-4f94fb84"]]);var re=ne,te={name:"HelloWorld",components:{PopupWindow:re},data(){return{selectedCurrency:"USD",currencies:[{code:"USD",name:"USD:",rate:0},{code:"EUR",name:"EUR:",rate:0},{code:"UAH",name:"UAH:",rate:0},{code:"BTC",name:"BTC:",rate:0}],showPopup:!1,isUpdating:!1}},created(){this.updateCurrencies(),setInterval(this.updateCurrencies,5e3)},mounted(){const e=localStorage.getItem("currencies");e&&(this.currencies=JSON.parse(e)),this.updateCurrencies()},methods:{updateCurrencies(){if(!this.isUpdating){this.isUpdating=!0;const e="7ecd5129702c4f00896f0738196fdfff",n=`https://openexchangerates.org/api/latest.json?app_id=${e}&base=${this.selectedCurrency}`;M.Z.get(n).then((e=>{this.currencies.forEach((n=>{n.rate=e.data.rates[n.code]}))})).catch((e=>{console.log(e),this.isUpdating=!1}))}},showAddCurrencyPopup(){this.showPopup=!0},hideAddCurrencyPopup(){this.showPopup=!1},addNewCurrency(e){this.currencies.push(e),localStorage.setItem("currencies",JSON.stringify(this.currencies)),this.newCurrency="",this.updateCurrencies(),this.showPopup=!1}}};const oe=(0,x.Z)(te,[["render",$],["__scopeId","data-v-61e08011"]]);var ue=oe,ce={name:"App",components:{Form:N,Block:ue},data(){return{showPopUp:!1}}};const ae=(0,x.Z)(ce,[["render",a]]);var le=ae;(0,t.ri)(le).mount("#app")}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var u=n[t]={exports:{}};return e[t](u,u.exports,r),u.exports}r.m=e,function(){var e=[];r.O=function(n,t,o,u){if(!t){var c=1/0;for(i=0;i<e.length;i++){t=e[i][0],o=e[i][1],u=e[i][2];for(var a=!0,l=0;l<t.length;l++)(!1&u||c>=u)&&Object.keys(r.O).every((function(e){return r.O[e](t[l])}))?t.splice(l--,1):(a=!1,u<c&&(c=u));if(a){e.splice(i--,1);var s=o();void 0!==s&&(n=s)}}return n}u=u||0;for(var i=e.length;i>0&&e[i-1][2]>u;i--)e[i]=e[i-1];e[i]=[t,o,u]}}(),function(){r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,{a:n}),n}}(),function(){r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};r.O.j=function(n){return 0===e[n]};var n=function(n,t){var o,u,c=t[0],a=t[1],l=t[2],s=0;if(c.some((function(n){return 0!==e[n]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(l)var i=l(r)}for(n&&n(t);s<c.length;s++)u=c[s],r.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return r.O(i)},t=self["webpackChunkproject"]=self["webpackChunkproject"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=r.O(void 0,[998],(function(){return r(4329)}));t=r.O(t)})();
//# sourceMappingURL=app.dc0a29ea.js.map